// aeron_client_delete

digraph remove_publication_sequence_diagram {
  client1__head [ label="Client 1" pos="0,0!" shape="record" ];
  client1__write_close [ pos="0,-1!" shape="point" width="0" ]
  client1__destroy [ pos="0,-2!" shape="point" width="0" ]
  client1__foot [ label="Client 1" pos="0,-39!" shape="record" ];
  client2__head [ label="Client 2" pos="3,0!" shape="record" ];
  client2__write_remove [ pos="3,-2!" shape="point" width="0" ]
  client2__foot [ label="Client 2" pos="3,-39!" shape="record" ];
  to_driver_ringbuf__head [ label="To Driver Ringbuf (CNC File)" pos="6,0!" shape="record" ];
  on_driver_ringbuf__write_close [ pos="6,-1!" shape="point" width="0" ]
  on_driver_ringbuf__write_remove [ pos="6,-2!" shape="point" width="0" ]
  to_driver_ringbuf__read [ pos="6,-3!" shape="point" width="0" ]
  to_driver_ringbuf__on_cmd_close [ pos="6,-4!" shape="point" width="0" ]
  to_driver_ringbuf__ret_on_cmd_close [ pos="6,-5!" shape="point" width="0" ]
  to_driver_ringbuf__on_cmd_remove [ pos="6,-6!" shape="point" width="0" ]
  to_driver_ringbuf__ret_on_cmd_remove [ pos="6,-14!" shape="point" width="0" ]
  to_driver_ringbuf__ret_read [ pos="6,-15!" shape="point" width="0" ]
  to_driver_ringbuf__foot [ label="To Driver Ringbuf (CNC File)" pos="6,-39!" shape="record" ];
  conductor__head [ label="Conductor" pos="9,0!" shape="record" ];
  conductor__loop_begin [ pos="9,-1!" shape="point" width="0" ];
  conductor__ret_loop_begin [ pos="9.5,-1!" shape="point" width="0" ];
  conductor__read [ pos="9,-3!" shape="point" width="0" ]
  conductor__on_cmd_close [ pos="9,-4!" shape="point" width="0" ]
  conductor__ret_on_cmd_close [ pos="9,-5!" shape="point" width="0" ]
  conductor__on_cmd_remove [ pos="9,-6!" shape="point" width="0" ]
  conductor__get2 [ pos="9,-7!" shape="point" width="0" ]
  conductor__ret_get2 [ pos="9,-8!" shape="point" width="0" ]
  conductor__decref2 [ pos="9,-9!" shape="point" width="0" ]
  conductor__ret_decref2 [ pos="9,-10!" shape="point" width="0" ]
  conductor__remove_pl2 [ pos="9,-11!" shape="point" width="0" ]
  conductor__ret_remove_pl2 [ pos="9,-12!" shape="point" width="0" ]
  conductor__broadcast [ pos="9,-13!" shape="point" width="0" ]
  conductor__ret_on_cmd_remove [ pos="9,-14!" shape="point" width="0" ];
  conductor__ret_read [ pos="9,-15!" shape="point" width="0" ];
  conductor__get1 [ pos="9,-16!" shape="point" width="0" ]
  conductor__ret_get1 [ pos="9,-17!" shape="point" width="0" ]
  conductor__decref1 [ pos="9,-18!" shape="point" width="0" ]
  conductor__ret_decref1 [ pos="9,-19!" shape="point" width="0" ]
  conductor__get_end [ pos="9,-20!" shape="point" width="0" ]
  conductor__ret_get_end [ pos="9,-21!" shape="point" width="0" ]
  conductor__stream_decref [ pos="9,-22!" shape="point" width="0" ]
  conductor__ret_stream_decref [ pos="9,-23!" shape="point" width="0" ]
  conductor__unlink [ pos="9,-24!" shape="point" width="0" ]
  conductor__ret_unlink [ pos="9,-25!" shape="point" width="0" ]
  conductor__remove_sl [ pos="9,-26!" shape="point" width="0" ]
  conductor__ret_remove_sl [ pos="9,-27!" shape="point" width="0" ]
  conductor__remove_pl1 [ pos="9,-28!" shape="point" width="0" ]
  conductor__ret_remove_pl1 [ pos="9,-29!" shape="point" width="0" ]
  conductor__unmap [ pos="9,-30!" shape="point" width="0" ]
  conductor__ret_unmap [ pos="9,-31!" shape="point" width="0" ]
  conductor__destroy [ pos="9,-32!" shape="point" width="0" ]
  conductor__ret_destroy [ pos="9,-33!" shape="point" width="0" ]
  conductor__decref_end [ pos="9,-34!" shape="point" width="0" ]
  conductor__ret_decref_end [ pos="9,-35!" shape="point" width="0" ]
  conductor__remove_end [ pos="9,-36!" shape="point" width="0" ]
  conductor__ret_remove_end [ pos="9,-37!" shape="point" width="0" ]
  conductor__loop_end [ pos="9,-38!" shape="point" width="0" ];
  conductor__ret_loop_end [ pos="9.5,-38!" shape="point" width="0" ];
  conductor__foot [ label="Conductor" pos="9,-39!" shape="record" ];
  to_clients_buffer__head [ label="To Clients Buffer (CNC File)" pos="12,0!" shape="record" ];
  to_clients_buffer__broadcast [ pos="12,-13!" shape="point" width="0" ]
  to_clients_buffer__foot [ label="To Clients Buffer (CNC File)" pos="12,-39!" shape="record" ];
  publication_link1__head [ label="Publication Link (Client 1)" pos="15,0!" shape="record" ];
  publication_link1__get1 [ pos="15,-16!" shape="point" width="0" ]
  publication_link1__ret_get1 [ pos="15,-17!" shape="point" width="0" ]
  publication_link1__remove_pl1 [ pos="15,-28!" shape="point" width="0" ]
  publication_link1__ret_remove_pl1 [ pos="15,-29!" shape="point" width="0" ]
  publication_link1__foot [ label="Publication Link (Client 1)" pos="15,-39!" shape="record" ];
  publication_link2__head [ label="Publication Link (Client 2)" pos="18,0!" shape="record" ];
  publication_link2__get2 [ pos="18,-7!" shape="point" width="0" ]
  publication_link2__ret_get2 [ pos="18,-8!" shape="point" width="0" ]
  publication_link2__remove_pl2 [ pos="18,-11!" shape="point" width="0" ]
  publication_link2__ret_remove_pl2 [ pos="18,-12!" shape="point" width="0" ]
  publication_link2__foot [ label="Publication Link (Client 2)" pos="18,-39!" shape="record" ];
  net_publication__head [ label="Network Publication" pos="21,0!" shape="record" ];
  net_publication__decref2 [ pos="21,-9!" shape="point" width="0" ]
  net_publication__ret_decref2 [ pos="21,-10!" shape="point" width="0" ]
  net_publication__decref1 [ pos="21,-18!" shape="point" width="0" ]
  net_publication__ret_decref1 [ pos="21,-19!" shape="point" width="0" ]
  net_publication__destroy [ pos="21,-32!" shape="point" width="0" ]
  net_publication__ret_destroy [ pos="21,-33!" shape="point" width="0" ]
  net_publication__foot [ label="Network Publication" pos="21,-39!" shape="record" ];
  publication_log__head [ label="Publication Log File" pos="24,0!" shape="record" ];
  publication_log__unmap [ pos="24,-30!" shape="point" width="0" ]
  publication_log__ret_unmap [ pos="24,-31!" shape="point" width="0" ]
  publication_log__foot [ label="Publication Log File" pos="24,-39!" shape="record" ];
  send_channel_endpoint__head [ label="Send Channel Endpoint" pos="27,0!" shape="record" ];
  send_channel_endpoint__decref_end [ pos="27,-34!" shape="point" width="0" ]
  send_channel_endpoint__ret_decref_end [ pos="27,-35!" shape="point" width="0" ]
  send_channel_endpoint__remove_end [ pos="27,-36!" shape="point" width="0" ]
  send_channel_endpoint__ret_remove_end [ pos="27,-37!" shape="point" width="0" ]
  send_channel_endpoint__foot [ label="Send Channel Endpoint" pos="27,-39!" shape="record" ];
  subscription_link__head [ label="Subscription Link (Client 1)" pos="30,0!" shape="record" ];
  subscription_link__get_end [ pos="30,-20!" shape="point" width="0" ]
  subscription_link__ret_get_end [ pos="30,-21!" shape="point" width="0" ]
  subscription_link__unlink [ pos="30,-24!" shape="point" width="0" ]
  subscription_link__ret_unlink [ pos="30,-25!" shape="point" width="0" ]
  subscription_link__remove_sl [ pos="30,-26!" shape="point" width="0" ]
  subscription_link__ret_remove_sl [ pos="30,-27!" shape="point" width="0" ]
  subscription_link__foot [ label="Subscription Link (Client 1)" pos="30,-39!" shape="record" ];
  receive_channel_end__head [ label="Receive Channel Endpoint" pos="33,0!" shape="record" ];
  receive_channel_end__stream_decref [ pos="33,-22!" shape="point" width="0" ]
  receive_channel_end__ret_stream_decref [ pos="33,-23!" shape="point" width="0" ]
  receive_channel_end__foot [ label="Receive Channel Endpoint" pos="33,-39!" shape="record" ];

  client1__head -> client1__destroy [ dir="none" style="bold" ]
  client1__destroy -> client1__foot [ dir="none" style="dashed" ]
  client2__head -> client2__foot [ dir="none" style="bold" ]
  to_driver_ringbuf__head -> to_driver_ringbuf__foot [ dir="none" style="bold" ]
  conductor__head -> conductor__loop_begin [ dir="none" style="dashed" ]
  conductor__loop_begin -> conductor__read [ dir="none" style="bold" ]
  conductor__read -> conductor__on_cmd_close [ dir="none" style="dashed" ]
  conductor__on_cmd_close -> conductor__ret_on_cmd_close [ dir="none" style="bold" ]
  conductor__ret_on_cmd_close -> conductor__on_cmd_remove [ dir="none" style="dashed" ]
  conductor__on_cmd_remove -> conductor__decref2 [ dir="none" style="bold" ]
  conductor__decref2 -> conductor__ret_decref2 [ dir="none" style="dashed" ]
  conductor__ret_decref2 -> conductor__remove_pl2 [ dir="none" style="bold" ]
  conductor__remove_pl2 -> conductor__ret_remove_pl2 [ dir="none" style="dashed" ]
  conductor__ret_remove_pl2 -> conductor__ret_on_cmd_remove [ dir="none" style="bold" ]
  conductor__ret_on_cmd_remove -> conductor__ret_read [ dir="none" style="dashed" ]
  conductor__ret_read -> conductor__decref1 [ dir="none" style="bold" ]
  conductor__decref1 -> conductor__ret_decref1 [ dir="none" style="dashed" ]
  conductor__ret_decref1 -> conductor__get_end [ dir="none" style="bold" ]
  conductor__get_end -> conductor__ret_get_end [ dir="none" style="dashed" ]
  conductor__ret_get_end -> conductor__stream_decref [ dir="none" style="bold" ]
  conductor__stream_decref -> conductor__ret_stream_decref [ dir="none" style="dashed" ]
  conductor__ret_stream_decref -> conductor__unlink [ dir="none" style="bold" ]
  conductor__unlink -> conductor__ret_unlink [ dir="none" style="dashed" ]
  conductor__ret_unlink -> conductor__remove_sl [ dir="none" style="bold" ]
  conductor__remove_sl -> conductor__ret_remove_sl [ dir="none" style="dashed" ]
  conductor__ret_remove_sl -> conductor__remove_pl1 [ dir="none" style="bold" ]
  conductor__remove_pl1 -> conductor__ret_remove_pl1 [ dir="none" style="dashed" ]
  conductor__ret_remove_pl1 -> conductor__unmap [ dir="none" style="bold" ]
  conductor__unmap -> conductor__ret_unmap [ dir="none" style="dashed" ]
  conductor__ret_unmap -> conductor__destroy [ dir="none" style="bold" ]
  conductor__destroy -> conductor__ret_destroy [ dir="none" style="dashed" ]
  conductor__ret_destroy -> conductor__decref_end [ dir="none" style="bold" ]
  conductor__decref_end -> conductor__ret_decref_end [ dir="none" style="dashed" ]
  conductor__ret_decref_end -> conductor__remove_end [ dir="none" style="bold" ]
  conductor__remove_end -> conductor__ret_remove_end [ dir="none" style="dashed" ]
  conductor__ret_remove_end -> conductor__loop_end [ dir="none" style="bold" ]
  conductor__loop_end -> conductor__foot [ dir="none" style="dashed" ]
  to_clients_buffer__head -> to_clients_buffer__foot [ dir="none" style="bold" ]
  publication_link1__head -> publication_link1__ret_remove_pl1 [ dir="none" style="bold" ]
  publication_link1__ret_remove_pl1 -> publication_link1__foot [ dir="none" style="dashed" ]
  publication_link2__head -> publication_link2__ret_remove_pl2 [ dir="none" style="bold" ]
  publication_link2__ret_remove_pl2 -> publication_link2__foot [ dir="none" style="dashed" ]
  net_publication__head -> net_publication__ret_destroy [ dir="none" style="bold" ]
  net_publication__ret_destroy -> net_publication__foot [ dir="none" style="dashed" ]
  send_channel_endpoint__head -> send_channel_endpoint__ret_remove_end [ dir="none" style="bold" ]
  send_channel_endpoint__ret_remove_end -> send_channel_endpoint__foot [ dir="none" style="dashed" ]
  subscription_link__head -> subscription_link__ret_remove_sl [ dir="none" style="bold" ]
  subscription_link__ret_remove_sl -> subscription_link__foot [ dir="none" style="dashed" ]
  receive_channel_end__head -> receive_channel_end__foot [ dir="none" style="bold" ]
  publication_log__head -> publication_log__ret_unmap [ dir="none" style="bold" ]
  publication_log__ret_unmap -> publication_log__foot [ dir="none" style="dashed" ]

  client1__write_close -> on_driver_ringbuf__write_close [ headlabel="write( \n CLIENT_CLOSE, \n client_id)" style="solid" ]
  client2__write_remove -> on_driver_ringbuf__write_remove [ headlabel="write( \n REMOVE_PUBLICATION, \n client_id, \n publication_id)" style="solid" ]
  conductor__read -> to_driver_ringbuf__read [ taillabel="read(conductor_on_command)" style="solid" ]
  to_driver_ringbuf__on_cmd_close -> conductor__on_cmd_close [ headlabel="conductor_on_command( \n CLIENT_CLOSE, \n client_id)" style="solid" ]
  conductor__ret_on_cmd_close -> to_driver_ringbuf__ret_on_cmd_close [ label="return" style="dashed" ]
  to_driver_ringbuf__on_cmd_remove -> conductor__on_cmd_remove [ headlabel="conductor_on_command( \n REMOVE_PUBLICATION, \n client_id, \n publication_id)" style="solid" ]
  conductor__get2 -> publication_link2__get2 [ headlabel="get(client_id)" style="solid" ]
  publication_link2__ret_get2 -> conductor__ret_get2 [ label="return(publication)" style="dashed" ]
  conductor__decref2 -> net_publication__decref2 [ headlabel="decref(client_id)" style="solid" ]
  net_publication__ret_decref2 -> conductor__ret_decref2 [ label="return" style="dashed" ]
  conductor__remove_pl2 -> publication_link2__remove_pl2 [ headlabel="remove( \n client_id, \n publication_id)" style="solid" ]
  publication_link2__ret_remove_pl2 -> conductor__ret_remove_pl2 [ label="return" style="dashed" ]
  conductor__broadcast -> to_clients_buffer__broadcast [ headlabel="broadcast( \n RESPONSE_ON_OPERATION_SUCCESS, \n operation_success)" style="solid" ]
  conductor__ret_on_cmd_remove -> to_driver_ringbuf__ret_on_cmd_remove [ label="return" style="dashed" ]
  to_driver_ringbuf__ret_read -> conductor__ret_read [ headlabel="return; on_check_managed_resources()" style="dashed" ]
  conductor__get1 -> publication_link1__get1 [ headlabel="get(client_id)" style="solid" ]
  publication_link1__ret_get1 -> conductor__ret_get1  [ label="return(publication)" style="dashed" ]
  conductor__decref1 -> net_publication__decref1 [ headlabel="decref(client_id)" style="solid" ]
  net_publication__ret_decref1 -> conductor__ret_decref1  [ label="return" style="dashed" ]
  conductor__get_end -> subscription_link__get_end [ headlabel="get_endpoint_and_stream(client_id)" style="solid" ]
  subscription_link__ret_get_end -> conductor__ret_get_end [ label="retturn(receive_channel_endpoint, stream_id)" style="dashed" ]
  conductor__stream_decref -> receive_channel_end__stream_decref [ headlabel="decref_to_stream(stream_id)" style="solid" ]
  receive_channel_end__ret_stream_decref -> conductor__ret_stream_decref [ label="return" style="dashed" ]
  conductor__unlink -> subscription_link__unlink [ headlabel="unlink_all_subscribable(client_id)" style="solid" ]
  subscription_link__ret_unlink -> conductor__ret_unlink [ label="return" style="dashed" ]
  conductor__remove_sl -> subscription_link__remove_sl [ headlabel="remove(client_id)" style="solid" ]
  subscription_link__ret_remove_sl -> conductor__ret_remove_sl [ label="return" style="dashed" ]
  conductor__remove_pl1 -> publication_link1__remove_pl1 [ headlabel="remove( \n client_id, \n publication_id)" style="solid" ]
  publication_link1__ret_remove_pl1 -> conductor__ret_remove_pl1 [ label="return" style="dashed" ]
  conductor__unmap -> publication_log__unmap [ headlabel="unmap(log_path)" style="solid" ]
  publication_log__ret_unmap -> conductor__ret_unmap [ label="return" style="dashed" ]
  conductor__destroy -> net_publication__destroy [ headlabel="destroy()" style="solid" ]
  net_publication__ret_destroy -> conductor__ret_destroy [ label="return" style="dashed" ]
  conductor__decref_end -> send_channel_endpoint__decref_end [ headlabel="decref(client_id)" style="solid" ]
  send_channel_endpoint__ret_decref_end -> conductor__ret_decref_end  [ label="return" style="dashed" ]
  conductor__remove_end -> send_channel_endpoint__remove_end [ headlabel="remove_end()" style="solid" ]
  send_channel_endpoint__ret_remove_end -> conductor__ret_remove_end [ label="return" style="dashed" ]

  conductor__loop_end -> conductor__ret_loop_end [ dir="none" style="bold" ]
  conductor__ret_loop_end -> conductor__ret_loop_begin [ label="agent runner loop" dir="none" style="bold" ]
  conductor__ret_loop_begin -> conductor__loop_begin [ style="bold" ]
}
